function showHideBlock(e){e.preventDefault(),$(this).closest(".sh-block").toggleClass("sh-hidden")}function showHide(){$(document).on("click",".sh-btn, .show-text",showHideBlock),$(document).on("click",".cls-btn",showHideBlock)}function mainslider(){$(".mainslider").owlCarousel({loop:!0,items:1,autoplay:!1,mouseDrag:!1,nav:!0,dots:!1,navText:!1})}function usefullslider(){$(".usefullslider").owlCarousel({loop:!1,items:2,autoplay:!1,mouseDrag:!0,nav:!0,dots:!0,navText:!1,slideBy:2})}function showButt(){for(var e=$(".sh-block.sh-hidden p"),t=0;t<e.length;t++)132<e[t].offsetHeight&&$(e[t]).closest(".sh-block.sh-hidden").addClass("show-button")}function loadComments(){$(document).on("click",".comments .counter-item",function(e){var t=$(".comments-item",$(e.target).closest(".comments"));$.ajax({url:"./src/blocks/tests/test.html",cache:!1,type:"GET",success:function(e){$(t).append(e),showButt(),indexPage()}})})}function openimage(){$(document).on("click",".open-img",function(e){e.preventDefault();var t=$(this).closest(".block"),n=t.find("div.active").find("img"),o=t.find(".popup");o.fadeIn().html($(n[0]).clone()).append('<div class="popup-close"></div>'),$(document).on("click",".popup-close",function(e){o.fadeOut()})})}function textCut(){$(document).find(".news-preview p").each(function(e,t){var n=t.innerText;if(!(98<n.length))return t;var o=n.substring(0,98)+"...";o.replace(/\s{2,}/g," "),t.innerText=o})}function mapsCustom(){ymaps.ready(function(){var e=new ymaps.Map("map",{center:[56.852071,53.213458],zoom:17},{searchControlProvider:"yandex#search"}),t=ymaps.templateLayoutFactory.createClass('<div style="color: #FFFFFF; font-weight: bold;">$[properties.iconContent]</div>');myPlacemarkWithContent=new ymaps.Placemark([56.852071,53.213458],{hintContent:"Лихвинцева, 46"},{iconLayout:"default#imageWithContent",iconImageHref:"./images/icon.png",iconContentLayout:t}),e.geoObjects.add(myPlacemarkWithContent)})}function showPic(){$(document).on("click",".open-img",function(e){var t=$(".popup",$(e.target).closest(".item")),n=$(".img-prev",$(e.target).closest(".item")),o=$(".veil");o.show(),t.html($(n).clone()).fadeIn().append('<div class="popup-close"></div>'),$(document).on("click",".popup-close",function(e){t.fadeOut(),t.empty(),o.hide()})})}function indexPage(){var n,e=$(".text-container p");e.length&&(e.each(function(){$clamp(this,{clamp:3})}),n=e,$(document).on("click",".sh-btn",function(e){if(n.closest(".sh-hidden"))for(var t=0;t<n.length;t++)$clamp($(n)[t],{clamp:"1000px"})}))}function sectionPage(){var e=$(".section-pubs .pub-container");e.length&&(e.each(function(){var e=$(".caption",$(this)),t=$(".annotation",$(this));checkClamp($(this)),92<e.height()||96<t.height()?$(this).addClass("sh-hidden hideable"):$(this).removeClass("sh-hidden hideable")}),e.on("click",".sh-btn",function(){checkClamp($(this).closest(".sh-block"))}))}$(document).ready(function(){showHide(),mainslider(),openimage(),textCut(),mapsCustom(),usefullslider(),showButt(),loadComments(),indexPage(),showPic()});
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm1haW4uanMiXSwibmFtZXMiOlsic2hvd0hpZGVCbG9jayIsImUiLCJwcmV2ZW50RGVmYXVsdCIsIiQiLCJ0aGlzIiwiY2xvc2VzdCIsInRvZ2dsZUNsYXNzIiwic2hvd0hpZGUiLCJkb2N1bWVudCIsIm9uIiwibWFpbnNsaWRlciIsIm93bENhcm91c2VsIiwibG9vcCIsIml0ZW1zIiwiYXV0b3BsYXkiLCJtb3VzZURyYWciLCJuYXYiLCJkb3RzIiwibmF2VGV4dCIsInVzZWZ1bGxzbGlkZXIiLCJzbGlkZUJ5Iiwic2hvd0J1dHQiLCJ0ZXh0IiwiaSIsImxlbmd0aCIsIm9mZnNldEhlaWdodCIsImFkZENsYXNzIiwibG9hZENvbW1lbnRzIiwiY29udGFpbmVyIiwidGFyZ2V0IiwiYWpheCIsInVybCIsImNhY2hlIiwidHlwZSIsInN1Y2Nlc3MiLCJodG1sIiwiYXBwZW5kIiwiaW5kZXhQYWdlIiwib3BlbmltYWdlIiwiYmxvY2siLCJhY3RpdmUiLCJmaW5kIiwicG9wdXAiLCJmYWRlSW4iLCJjbG9uZSIsImZhZGVPdXQiLCJ0ZXh0Q3V0IiwiZWFjaCIsIml0ZW0iLCJlbGVtZW50VGV4dCIsImlubmVyVGV4dCIsInJlc3VsdCIsInN1YnN0cmluZyIsInJlcGxhY2UiLCJtYXBzQ3VzdG9tIiwieW1hcHMiLCJyZWFkeSIsIm15TWFwIiwiTWFwIiwiY2VudGVyIiwiem9vbSIsInNlYXJjaENvbnRyb2xQcm92aWRlciIsIk15SWNvbkNvbnRlbnRMYXlvdXQiLCJ0ZW1wbGF0ZUxheW91dEZhY3RvcnkiLCJjcmVhdGVDbGFzcyIsIm15UGxhY2VtYXJrV2l0aENvbnRlbnQiLCJQbGFjZW1hcmsiLCJoaW50Q29udGVudCIsImljb25MYXlvdXQiLCJpY29uSW1hZ2VIcmVmIiwiaWNvbkNvbnRlbnRMYXlvdXQiLCJnZW9PYmplY3RzIiwiYWRkIiwic2hvd1BpYyIsImltZyIsInNob3ciLCJlbXB0eSIsImhpZGUiLCJjYXB0aW9ucyIsIiRjbGFtcCIsImNsYW1wIiwic2VjdGlvblBhZ2UiLCJwdWJzIiwiY2FwdGlvbiIsImFubm90YXRpb24iLCJjaGVja0NsYW1wIiwiaGVpZ2h0IiwicmVtb3ZlQ2xhc3MiXSwibWFwcGluZ3MiOiJBQWFBLFNBQVNBLGNBQWNDLEdBQ3JCQSxFQUFFQyxpQkFFVUMsRUFBRUMsTUFBTUMsUUFBUSxhQUN0QkMsWUFBWSxhQUdwQixTQUFTQyxXQUNQSixFQUFFSyxVQUFVQyxHQUFHLFFBQVMsc0JBQXVCVCxlQUMvQ0csRUFBRUssVUFBVUMsR0FBRyxRQUFTLFdBQVlULGVBR3RDLFNBQVNVLGFBQ1BQLEVBQUUsZUFBZVEsWUFBWSxDQUMzQkMsTUFBTSxFQUNOQyxNQUFPLEVBQ1BDLFVBQVUsRUFDVkMsV0FBVyxFQUNYQyxLQUFLLEVBQ0xDLE1BQU0sRUFDTkMsU0FBUyxJQUliLFNBQVNDLGdCQUNQaEIsRUFBRSxrQkFBa0JRLFlBQVksQ0FDOUJDLE1BQU0sRUFDTkMsTUFBTyxFQUNQQyxVQUFVLEVBQ1ZDLFdBQVcsRUFDWEMsS0FBSyxFQUNMQyxNQUFNLEVBQ05DLFNBQVMsRUFDVEUsUUFBUyxJQUliLFNBQVNDLFdBSVAsSUFIQSxJQUNJQyxFQUFPbkIsRUFBRSx5QkFFSm9CLEVBQUksRUFBR0EsRUFBSUQsRUFBS0UsT0FBUUQsSUFIaEIsSUFJRUQsRUFBS0MsR0FBR0UsY0FDdkJ0QixFQUFFbUIsRUFBS0MsSUFDSmxCLFFBQVEsdUJBQ1JxQixTQUFTLGVBS2xCLFNBQVNDLGVBQ1B4QixFQUFFSyxVQUFVQyxHQUFHLFFBQVMsMEJBQTJCLFNBQVNSLEdBQzFELElBQUkyQixFQUFZekIsRUFBRSxpQkFBa0JBLEVBQUVGLEVBQUU0QixRQUFReEIsUUFBUSxjQUN4REYsRUFBRTJCLEtBQUssQ0FDTEMsSUFBSywrQkFDTEMsT0FBTyxFQUNQQyxLQUFNLE1BQ05DLFFBQVMsU0FBU0MsR0FDaEJoQyxFQUFFeUIsR0FBV1EsT0FBT0QsR0FDcEJkLFdBQ0FnQixpQkFNUixTQUFTQyxZQUNQbkMsRUFBRUssVUFBVUMsR0FBRyxRQUFTLFlBQWEsU0FBU1IsR0FDNUNBLEVBQUVDLGlCQUVGLElBQUlxQyxFQUFRcEMsRUFBRUMsTUFBTUMsUUFBUSxVQUN4Qm1DLEVBQVNELEVBQU1FLEtBQUssY0FBY0EsS0FBSyxPQUN2Q0MsRUFBUUgsRUFBTUUsS0FBSyxVQUV2QkMsRUFDR0MsU0FDQVIsS0FBS2hDLEVBQUVxQyxFQUFPLElBQUlJLFNBQ2xCUixPQUFPLG1DQUlSakMsRUFBRUssVUFBVUMsR0FBRyxRQUFTLGVBQWdCLFNBQVNSLEdBQy9DeUMsRUFBTUcsY0FNZCxTQUFTQyxVQUNJM0MsRUFBRUssVUFBVWlDLEtBQUssbUJBQ3ZCTSxLQUFLLFNBQVN4QixFQUFHeUIsR0FDcEIsSUFDSUMsRUFBY0QsRUFBS0UsVUFDdkIsS0FGVyxHQUVQRCxFQUFZekIsUUFLZCxPQUFPd0IsRUFKUCxJQUFJRyxFQUFTRixFQUFZRyxVQUFVLEVBSDFCLElBR3FDLE1BQzlDRCxFQUFPRSxRQUFRLFVBQVcsS0FDMUJMLEVBQUtFLFVBQVlDLElBT3ZCLFNBQVNHLGFBQ1BDLE1BQU1DLE1BQU0sV0FDVixJQUFJQyxFQUFRLElBQUlGLE1BQU1HLElBQ2xCLE1BQ0EsQ0FDRUMsT0FBUSxDQUFDLFVBQVcsV0FDcEJDLEtBQU0sSUFFUixDQUNFQyxzQkFBdUIsa0JBRzNCQyxFQUFzQlAsTUFBTVEsc0JBQXNCQyxZQUNoRCxtRkFFSkMsdUJBQXlCLElBQUlWLE1BQU1XLFVBQ2pDLENBQUMsVUFBVyxXQUNaLENBQ0VDLFlBQWEsa0JBRWYsQ0FDRUMsV0FBWSwyQkFDWkMsY0FBZSxvQkFJZkMsa0JBQW1CUixJQUl2QkwsRUFBTWMsV0FBV0MsSUFBSVAsMEJBSXpCLFNBQVNRLFVBQ1B0RSxFQUFFSyxVQUFVQyxHQUFHLFFBQVMsWUFBYSxTQUFTUixHQUM1QyxJQUFJMkIsRUFBWXpCLEVBQUUsU0FBVUEsRUFBRUYsRUFBRTRCLFFBQVF4QixRQUFRLFVBQzVDcUUsRUFBTXZFLEVBQUUsWUFBYUEsRUFBRUYsRUFBRTRCLFFBQVF4QixRQUFRLFVBQ3pDcUMsRUFBUXZDLEVBQUUsU0FDZHVDLEVBQU1pQyxPQUNOL0MsRUFDR08sS0FBS2hDLEVBQUV1RSxHQUFLOUIsU0FDWkQsU0FDQVAsT0FBTyxtQ0FLUmpDLEVBQUVLLFVBQVVDLEdBQUcsUUFBUyxlQUFnQixTQUFTUixHQUMvQzJCLEVBQVVpQixVQUNWakIsRUFBVWdELFFBQ1ZsQyxFQUFNbUMsV0FNZCxTQUFTeEMsWUFFUCxJQU9vQlcsRUFQaEI4QixFQUFXM0UsRUFBRSxxQkFDYjJFLEVBQVN0RCxTQUNYc0QsRUFBUy9CLEtBQUssV0FDWmdDLE9BQU8zRSxLQUFNLENBQUU0RSxNQUFPLE1BSU5oQyxFQUZQOEIsRUFHWDNFLEVBQUVLLFVBQVVDLEdBQUcsUUFBUyxVQUFXLFNBQVNSLEdBQzFDLEdBQUkrQyxFQUFLM0MsUUFBUSxjQUNmLElBQUssSUFBSWtCLEVBQUksRUFBR0EsRUFBSXlCLEVBQUt4QixPQUFRRCxJQUMvQndELE9BQU81RSxFQUFFNkMsR0FBTXpCLEdBQUksQ0FBRXlELE1BQU8sY0F1QnRDLFNBQVNDLGNBQ1AsSUFBSUMsRUFBTy9FLEVBQUUsZ0NBQ1QrRSxFQUFLMUQsU0FDUDBELEVBQUtuQyxLQUFLLFdBQ1IsSUFBSW9DLEVBQVVoRixFQUFFLFdBQVlBLEVBQUVDLE9BQzVCZ0YsRUFBYWpGLEVBQUUsY0FBZUEsRUFBRUMsT0FDbENpRixXQUFXbEYsRUFBRUMsT0FDVSxHQUFuQitFLEVBQVFHLFVBQXVDLEdBQXRCRixFQUFXRSxTQUN0Q25GLEVBQUVDLE1BQU1zQixTQUFTLHNCQUVqQnZCLEVBQUVDLE1BQU1tRixZQUFZLHdCQUl4QkwsRUFBS3pFLEdBQUcsUUFBUyxVQUFXLFdBQzFCNEUsV0FBV2xGLEVBQUVDLE1BQU1DLFFBQVEsaUJBaE9qQ0YsRUFBRUssVUFBVWdELE1BQU0sV0FDaEJqRCxXQUNBRyxhQUNBNEIsWUFDQVEsVUFDQVEsYUFDQW5DLGdCQUNBRSxXQUNBTSxlQUNBVSxZQUNBb0MiLCJmaWxlIjoibWFpbi5qcyIsInNvdXJjZXNDb250ZW50IjpbIiQoZG9jdW1lbnQpLnJlYWR5KGZ1bmN0aW9uKCkge1xyXG4gIHNob3dIaWRlKCk7XHJcbiAgbWFpbnNsaWRlcigpO1xyXG4gIG9wZW5pbWFnZSgpO1xyXG4gIHRleHRDdXQoKTtcclxuICBtYXBzQ3VzdG9tKCk7XHJcbiAgdXNlZnVsbHNsaWRlcigpO1xyXG4gIHNob3dCdXR0KCk7XHJcbiAgbG9hZENvbW1lbnRzKCk7XHJcbiAgaW5kZXhQYWdlKCk7XHJcbiAgc2hvd1BpYygpO1xyXG59KTtcclxuXHJcbmZ1bmN0aW9uIHNob3dIaWRlQmxvY2soZSkge1xyXG4gIGUucHJldmVudERlZmF1bHQoKTtcclxuXHJcbiAgdmFyIGJsb2NrID0gJCh0aGlzKS5jbG9zZXN0KFwiLnNoLWJsb2NrXCIpO1xyXG4gIGJsb2NrLnRvZ2dsZUNsYXNzKFwic2gtaGlkZGVuXCIpO1xyXG59XHJcblxyXG5mdW5jdGlvbiBzaG93SGlkZSgpIHtcclxuICAkKGRvY3VtZW50KS5vbihcImNsaWNrXCIsIFwiLnNoLWJ0biwgLnNob3ctdGV4dFwiLCBzaG93SGlkZUJsb2NrKTtcclxuICAkKGRvY3VtZW50KS5vbihcImNsaWNrXCIsIFwiLmNscy1idG5cIiwgc2hvd0hpZGVCbG9jayk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIG1haW5zbGlkZXIoKSB7XHJcbiAgJChcIi5tYWluc2xpZGVyXCIpLm93bENhcm91c2VsKHtcclxuICAgIGxvb3A6IHRydWUsXHJcbiAgICBpdGVtczogMSxcclxuICAgIGF1dG9wbGF5OiBmYWxzZSxcclxuICAgIG1vdXNlRHJhZzogZmFsc2UsXHJcbiAgICBuYXY6IHRydWUsXHJcbiAgICBkb3RzOiBmYWxzZSxcclxuICAgIG5hdlRleHQ6IGZhbHNlXHJcbiAgfSk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIHVzZWZ1bGxzbGlkZXIoKSB7XHJcbiAgJChcIi51c2VmdWxsc2xpZGVyXCIpLm93bENhcm91c2VsKHtcclxuICAgIGxvb3A6IGZhbHNlLFxyXG4gICAgaXRlbXM6IDIsXHJcbiAgICBhdXRvcGxheTogZmFsc2UsXHJcbiAgICBtb3VzZURyYWc6IHRydWUsXHJcbiAgICBuYXY6IHRydWUsXHJcbiAgICBkb3RzOiB0cnVlLFxyXG4gICAgbmF2VGV4dDogZmFsc2UsXHJcbiAgICBzbGlkZUJ5OiAyXHJcbiAgfSk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIHNob3dCdXR0KCkge1xyXG4gIHZhciBoZWlnaHRUZXh0ID0gMTMyO1xyXG4gIHZhciB0ZXh0ID0gJChcIi5zaC1ibG9jay5zaC1oaWRkZW4gcFwiKTtcclxuXHJcbiAgZm9yICh2YXIgaSA9IDA7IGkgPCB0ZXh0Lmxlbmd0aDsgaSsrKSB7XHJcbiAgICBpZiAoaGVpZ2h0VGV4dCA8IHRleHRbaV0ub2Zmc2V0SGVpZ2h0KSB7XHJcbiAgICAgICQodGV4dFtpXSlcclxuICAgICAgICAuY2xvc2VzdChcIi5zaC1ibG9jay5zaC1oaWRkZW5cIilcclxuICAgICAgICAuYWRkQ2xhc3MoXCJzaG93LWJ1dHRvblwiKTtcclxuICAgIH1cclxuICB9XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGxvYWRDb21tZW50cygpIHtcclxuICAkKGRvY3VtZW50KS5vbihcImNsaWNrXCIsIFwiLmNvbW1lbnRzIC5jb3VudGVyLWl0ZW1cIiwgZnVuY3Rpb24oZSkge1xyXG4gICAgdmFyIGNvbnRhaW5lciA9ICQoXCIuY29tbWVudHMtaXRlbVwiLCAkKGUudGFyZ2V0KS5jbG9zZXN0KFwiLmNvbW1lbnRzXCIpKTtcclxuICAgICQuYWpheCh7XHJcbiAgICAgIHVybDogXCIuL3NyYy9ibG9ja3MvdGVzdHMvdGVzdC5odG1sXCIsXHJcbiAgICAgIGNhY2hlOiBmYWxzZSxcclxuICAgICAgdHlwZTogXCJHRVRcIixcclxuICAgICAgc3VjY2VzczogZnVuY3Rpb24oaHRtbCkge1xyXG4gICAgICAgICQoY29udGFpbmVyKS5hcHBlbmQoaHRtbCk7XHJcbiAgICAgICAgc2hvd0J1dHQoKTsgLy/QtNC+0LHQsNCy0LvRj9C10Lwg0LrQu9Cw0YHRgSwg0LXRgdC70Lgg0LrQvtC80LzQtdC90YLQsNGA0LjQuSDQv9GA0LXQstGL0YjQsNC10YIg0LTQtdGE0L7Qu9GC0L3Rg9GOINCy0YvRgdC+0YLRg1xyXG4gICAgICAgIGluZGV4UGFnZSgpO1xyXG4gICAgICB9XHJcbiAgICB9KTtcclxuICB9KTtcclxufVxyXG5cclxuZnVuY3Rpb24gb3BlbmltYWdlKCkge1xyXG4gICQoZG9jdW1lbnQpLm9uKFwiY2xpY2tcIiwgXCIub3Blbi1pbWdcIiwgZnVuY3Rpb24oZSkge1xyXG4gICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG5cclxuICAgIHZhciBibG9jayA9ICQodGhpcykuY2xvc2VzdChcIi5ibG9ja1wiKTtcclxuICAgIHZhciBhY3RpdmUgPSBibG9jay5maW5kKFwiZGl2LmFjdGl2ZVwiKS5maW5kKFwiaW1nXCIpO1xyXG4gICAgdmFyIHBvcHVwID0gYmxvY2suZmluZChcIi5wb3B1cFwiKTtcclxuXHJcbiAgICBwb3B1cFxyXG4gICAgICAuZmFkZUluKClcclxuICAgICAgLmh0bWwoJChhY3RpdmVbMF0pLmNsb25lKCkpXHJcbiAgICAgIC5hcHBlbmQoJzxkaXYgY2xhc3M9XCJwb3B1cC1jbG9zZVwiPjwvZGl2PicpO1xyXG4gICAgY2xvc2VQb3B1cCgpO1xyXG5cclxuICAgIGZ1bmN0aW9uIGNsb3NlUG9wdXAoKSB7XHJcbiAgICAgICQoZG9jdW1lbnQpLm9uKFwiY2xpY2tcIiwgXCIucG9wdXAtY2xvc2VcIiwgZnVuY3Rpb24oZSkge1xyXG4gICAgICAgIHBvcHVwLmZhZGVPdXQoKTtcclxuICAgICAgfSk7XHJcbiAgICB9XHJcbiAgfSk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIHRleHRDdXQoKSB7XHJcbiAgdmFyIHRleHQgPSAkKGRvY3VtZW50KS5maW5kKFwiLm5ld3MtcHJldmlldyBwXCIpO1xyXG4gIHRleHQuZWFjaChmdW5jdGlvbihpLCBpdGVtKSB7XHJcbiAgICB2YXIgc2l6ZSA9IDk4O1xyXG4gICAgdmFyIGVsZW1lbnRUZXh0ID0gaXRlbS5pbm5lclRleHQ7XHJcbiAgICBpZiAoZWxlbWVudFRleHQubGVuZ3RoID4gc2l6ZSkge1xyXG4gICAgICB2YXIgcmVzdWx0ID0gZWxlbWVudFRleHQuc3Vic3RyaW5nKDAsIHNpemUpICsgXCIuLi5cIjtcclxuICAgICAgcmVzdWx0LnJlcGxhY2UoL1xcc3syLH0vZywgXCIgXCIpO1xyXG4gICAgICBpdGVtLmlubmVyVGV4dCA9IHJlc3VsdDtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHJldHVybiBpdGVtO1xyXG4gICAgfVxyXG4gIH0pO1xyXG59XHJcblxyXG5mdW5jdGlvbiBtYXBzQ3VzdG9tKCkge1xyXG4gIHltYXBzLnJlYWR5KGZ1bmN0aW9uKCkge1xyXG4gICAgdmFyIG15TWFwID0gbmV3IHltYXBzLk1hcChcclxuICAgICAgICBcIm1hcFwiLFxyXG4gICAgICAgIHtcclxuICAgICAgICAgIGNlbnRlcjogWzU2Ljg1MjA3MSwgNTMuMjEzNDU4XSxcclxuICAgICAgICAgIHpvb206IDE3XHJcbiAgICAgICAgfSxcclxuICAgICAgICB7XHJcbiAgICAgICAgICBzZWFyY2hDb250cm9sUHJvdmlkZXI6IFwieWFuZGV4I3NlYXJjaFwiXHJcbiAgICAgICAgfVxyXG4gICAgICApLFxyXG4gICAgICBNeUljb25Db250ZW50TGF5b3V0ID0geW1hcHMudGVtcGxhdGVMYXlvdXRGYWN0b3J5LmNyZWF0ZUNsYXNzKFxyXG4gICAgICAgICc8ZGl2IHN0eWxlPVwiY29sb3I6ICNGRkZGRkY7IGZvbnQtd2VpZ2h0OiBib2xkO1wiPiRbcHJvcGVydGllcy5pY29uQ29udGVudF08L2Rpdj4nXHJcbiAgICAgICk7XHJcbiAgICBteVBsYWNlbWFya1dpdGhDb250ZW50ID0gbmV3IHltYXBzLlBsYWNlbWFyayhcclxuICAgICAgWzU2Ljg1MjA3MSwgNTMuMjEzNDU4XSxcclxuICAgICAge1xyXG4gICAgICAgIGhpbnRDb250ZW50OiBcItCb0LjRhdCy0LjQvdGG0LXQstCwLCA0NlwiXHJcbiAgICAgIH0sXHJcbiAgICAgIHtcclxuICAgICAgICBpY29uTGF5b3V0OiBcImRlZmF1bHQjaW1hZ2VXaXRoQ29udGVudFwiLFxyXG4gICAgICAgIGljb25JbWFnZUhyZWY6IFwiLi9pbWFnZXMvaWNvbi5wbmdcIixcclxuICAgICAgICAvLyBpY29uSW1hZ2VTaXplOiBbNDgsIDcwXSxcclxuICAgICAgICAvLyBpY29uSW1hZ2VPZmZzZXQ6IFstMjQsIC02NF0sXHJcbiAgICAgICAgLy8gaWNvbkNvbnRlbnRPZmZzZXQ6IFsxNSwgMTVdLFxyXG4gICAgICAgIGljb25Db250ZW50TGF5b3V0OiBNeUljb25Db250ZW50TGF5b3V0XHJcbiAgICAgIH1cclxuICAgICk7XHJcblxyXG4gICAgbXlNYXAuZ2VvT2JqZWN0cy5hZGQobXlQbGFjZW1hcmtXaXRoQ29udGVudCk7XHJcbiAgfSk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIHNob3dQaWMoKSB7XHJcbiAgJChkb2N1bWVudCkub24oXCJjbGlja1wiLCBcIi5vcGVuLWltZ1wiLCBmdW5jdGlvbihlKSB7XHJcbiAgICB2YXIgY29udGFpbmVyID0gJChcIi5wb3B1cFwiLCAkKGUudGFyZ2V0KS5jbG9zZXN0KFwiLml0ZW1cIikpO1xyXG4gICAgdmFyIGltZyA9ICQoXCIuaW1nLXByZXZcIiwgJChlLnRhcmdldCkuY2xvc2VzdChcIi5pdGVtXCIpKTtcclxuICAgIHZhciBwb3B1cCA9ICQoXCIudmVpbFwiKTtcclxuICAgIHBvcHVwLnNob3coKTtcclxuICAgIGNvbnRhaW5lclxyXG4gICAgICAuaHRtbCgkKGltZykuY2xvbmUoKSlcclxuICAgICAgLmZhZGVJbigpXHJcbiAgICAgIC5hcHBlbmQoJzxkaXYgY2xhc3M9XCJwb3B1cC1jbG9zZVwiPjwvZGl2PicpO1xyXG5cclxuICAgIGNsb3NlUG9wdXAoKTtcclxuXHJcbiAgICBmdW5jdGlvbiBjbG9zZVBvcHVwKCkge1xyXG4gICAgICAkKGRvY3VtZW50KS5vbihcImNsaWNrXCIsIFwiLnBvcHVwLWNsb3NlXCIsIGZ1bmN0aW9uKGUpIHtcclxuICAgICAgICBjb250YWluZXIuZmFkZU91dCgpO1xyXG4gICAgICAgIGNvbnRhaW5lci5lbXB0eSgpO1xyXG4gICAgICAgIHBvcHVwLmhpZGUoKTtcclxuICAgICAgfSk7XHJcbiAgICB9XHJcbiAgfSk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGluZGV4UGFnZSgpIHtcclxuICAvLyDQvtCx0YDQtdC30LDRgtGMINC90LDQt9Cy0LDQvdC40LUg0YDRg9Cx0YDQuNC6INC/0L4g0YjQuNGA0LjQvdC1XHJcbiAgdmFyIGNhcHRpb25zID0gJChcIi50ZXh0LWNvbnRhaW5lciBwXCIpO1xyXG4gIGlmIChjYXB0aW9ucy5sZW5ndGgpIHtcclxuICAgIGNhcHRpb25zLmVhY2goZnVuY3Rpb24oKSB7XHJcbiAgICAgICRjbGFtcCh0aGlzLCB7IGNsYW1wOiAzIH0pO1xyXG4gICAgfSk7XHJcbiAgICBjaGVja0NsYW1wKGNhcHRpb25zKTtcclxuICB9XHJcbiAgZnVuY3Rpb24gY2hlY2tDbGFtcChpdGVtKSB7XHJcbiAgICAkKGRvY3VtZW50KS5vbihcImNsaWNrXCIsIFwiLnNoLWJ0blwiLCBmdW5jdGlvbihlKSB7XHJcbiAgICAgIGlmIChpdGVtLmNsb3Nlc3QoXCIuc2gtaGlkZGVuXCIpKSB7XHJcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBpdGVtLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAkY2xhbXAoJChpdGVtKVtpXSwgeyBjbGFtcDogXCIxMDAwcHhcIiB9KTtcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgIH0pO1xyXG4gIH1cclxufVxyXG5cclxuLy8gJChkb2N1bWVudCkub24oJ2NsaWNrJywgJyNoZWFkZXIgLm1lbnUgYScsIGZ1bmN0aW9uKGUpe1xyXG4vLyAgICAgdmFyIGhyZWYgPSAkKHRoaXMpLmF0dHIoJ2hyZWYnKTtcclxuLy8gICAgIGlmIChocmVmLmluZGV4T2YoJy8jJykgPT09IDApIHtcclxuLy8gICAgICAgICB2YXIgaWQgPSBocmVmLnN1YnN0cmluZygyKSxcclxuLy8gICAgICAgICAgICAgYmxvY2sgPSAkKCcjJytpZCk7XHJcblxyXG4vLyAgICAgICAgIGlmIChibG9jay5sZW5ndGgpIHtcclxuLy8gICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG4vLyAgICAgICAgICAgICAkKCdodG1sLCBib2R5JykuYW5pbWF0ZSh7XHJcbi8vICAgICAgICAgICAgICAgICAnc2Nyb2xsVG9wJyA6IGJsb2NrLm9mZnNldCgpLnRvcCAtIDQwXHJcbi8vICAgICAgICAgICAgIH0pO1xyXG4vLyAgICAgICAgIH1cclxuLy8gICAgIH1cclxuLy8gfSk7XHJcbi8vfVxyXG5cclxuZnVuY3Rpb24gc2VjdGlvblBhZ2UoKSB7XHJcbiAgdmFyIHB1YnMgPSAkKFwiLnNlY3Rpb24tcHVicyAucHViLWNvbnRhaW5lclwiKTtcclxuICBpZiAocHVicy5sZW5ndGgpIHtcclxuICAgIHB1YnMuZWFjaChmdW5jdGlvbigpIHtcclxuICAgICAgdmFyIGNhcHRpb24gPSAkKFwiLmNhcHRpb25cIiwgJCh0aGlzKSksXHJcbiAgICAgICAgYW5ub3RhdGlvbiA9ICQoXCIuYW5ub3RhdGlvblwiLCAkKHRoaXMpKTtcclxuICAgICAgY2hlY2tDbGFtcCgkKHRoaXMpKTtcclxuICAgICAgaWYgKGNhcHRpb24uaGVpZ2h0KCkgPiA5MiB8fCBhbm5vdGF0aW9uLmhlaWdodCgpID4gOTYpIHtcclxuICAgICAgICAkKHRoaXMpLmFkZENsYXNzKFwic2gtaGlkZGVuIGhpZGVhYmxlXCIpO1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgICQodGhpcykucmVtb3ZlQ2xhc3MoXCJzaC1oaWRkZW4gaGlkZWFibGVcIik7XHJcbiAgICAgIH1cclxuICAgIH0pO1xyXG5cclxuICAgIHB1YnMub24oXCJjbGlja1wiLCBcIi5zaC1idG5cIiwgZnVuY3Rpb24oKSB7XHJcbiAgICAgIGNoZWNrQ2xhbXAoJCh0aGlzKS5jbG9zZXN0KFwiLnNoLWJsb2NrXCIpKTtcclxuICAgIH0pO1xyXG4gIH1cclxuXHJcbiAgLy8gZnVuY3Rpb24gY2hlY2tDbGFtcChpdGVtKSB7XHJcbiAgLy8gICAvLyDRjdGC0L7RgiDRgdC60YDQuNC/0YIg0YHRgNCw0LHQsNGC0YvQstCw0LXRgiDRgNCw0L3RjNGI0LUg0YfQtdC8INGB0YLQsNC90LTQsNGA0YLQvdGL0Lkg0LTQu9GPIHNoLWJsb2NrLCDQv9C+0Y3RgtC+0LzRgyDRgtGD0YIg0L3QvtCx0L7RgNC+0YIg0L/RgNC+0LLQtdGA0LrQsFxyXG4gIC8vICAgaWYgKGl0ZW0uaXMoXCIuc2gtaGlkZGVuXCIpKSB7XHJcbiAgLy8gICAgICRjbGFtcCgkKFwiLmNhcHRpb25cIiwgaXRlbSlbMF0sIHsgY2xhbXA6IFwiMTAwMHB4XCIgfSk7XHJcbiAgLy8gICAgICRjbGFtcCgkKFwiLmFubm90YXRpb25cIiwgaXRlbSlbMF0sIHsgY2xhbXA6IFwiMTAwMHB4XCIgfSk7XHJcbiAgLy8gICB9IGVsc2Uge1xyXG4gIC8vICAgICAkY2xhbXAoJChcIi5jYXB0aW9uXCIsIGl0ZW0pWzBdLCB7IGNsYW1wOiAzIH0pO1xyXG4gIC8vICAgICAkY2xhbXAoJChcIi5hbm5vdGF0aW9uXCIsIGl0ZW0pWzBdLCB7IGNsYW1wOiAzIH0pO1xyXG4gIC8vICAgfVxyXG4gIC8vIH1cclxufVxyXG4iXX0=
