function showHideBlock(e){e.preventDefault(),$(this).closest(".sh-block").toggleClass("sh-hidden")}function showHide(){$(document).on("click",".sh-btn, .show-text",showHideBlock),$(document).on("click",".cls-btn",showHideBlock)}function mainslider(){$(".mainslider").owlCarousel({loop:!0,items:1,autoplay:!1,mouseDrag:!1,nav:!0,dots:!1,navText:!1})}function usefullslider(){$(".usefullslider").owlCarousel({loop:!1,items:2,autoplay:!1,mouseDrag:!0,nav:!0,dots:!0,navText:!1,slideBy:2})}function showButt(){for(var e=$(".sh-block.sh-hidden p"),t=0;t<e.length;t++)132<e[t].offsetHeight&&$(e[t]).closest(".sh-block.sh-hidden").addClass("show-button")}function loadComments(){$(document).on("click",".comments .counter-item",function(e){var t=$(".comments-item",$(e.target).closest(".comments"));$.ajax({url:"./src/blocks/tests/test.html",cache:!1,type:"GET",success:function(e){$(t).append(e),showButt(),indexPage()}})})}function openimage(){$(document).on("click",".open-img",function(e){e.preventDefault();var t=$(this).closest(".block"),n=t.find("div.active").find("img"),o=t.find(".popup");o.fadeIn().html($(n[0]).clone()).append('<div class="popup-close"></div>'),$(document).on("click",".popup-close",function(e){o.fadeOut()})})}function textCut(){$(document).find(".news-preview p").each(function(e,t){var n=t.innerText;if(!(98<n.length))return t;var o=n.substring(0,98)+"...";o.replace(/\s{2,}/g," "),t.innerText=o})}function mapsCustom(){ymaps.ready(function(){var e=new ymaps.Map("map",{center:[56.852071,53.213458],zoom:17},{searchControlProvider:"yandex#search"}),t=ymaps.templateLayoutFactory.createClass('<div style="color: #FFFFFF; font-weight: bold;">$[properties.iconContent]</div>');myPlacemarkWithContent=new ymaps.Placemark([56.852071,53.213458],{hintContent:"Лихвинцева, 46"},{iconLayout:"default#imageWithContent",iconImageHref:"./images/icon.png",iconContentLayout:t}),e.geoObjects.add(myPlacemarkWithContent)})}function showPic(){$(document).on("click",".open-img",function(e){var t=$(".popup",$(e.target).closest(".item")),n=$(".album-prev",$(e.target).closest(".item")),o=$(".veil");o.show(),t.html($(n).clone()).fadeIn().append('<div class="popup-close"></div>'),$(document).on("click",".popup-close",function(e){t.fadeOut(),t.empty(),o.hide()})})}function indexPage(){var n,e=$(".text-container p");e.length&&(e.each(function(){$clamp(this,{clamp:3})}),n=e,$(document).on("click",".sh-btn",function(e){if(n.closest(".sh-hidden"))for(var t=0;t<n.length;t++)$clamp($(n)[t],{clamp:"1000px"})}))}$(document).ready(function(){showHide(),mainslider(),openimage(),textCut(),mapsCustom(),usefullslider(),showButt(),loadComments(),indexPage(),showPic()});
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm1haW4uanMiXSwibmFtZXMiOlsic2hvd0hpZGVCbG9jayIsImUiLCJwcmV2ZW50RGVmYXVsdCIsIiQiLCJ0aGlzIiwiY2xvc2VzdCIsInRvZ2dsZUNsYXNzIiwic2hvd0hpZGUiLCJkb2N1bWVudCIsIm9uIiwibWFpbnNsaWRlciIsIm93bENhcm91c2VsIiwibG9vcCIsIml0ZW1zIiwiYXV0b3BsYXkiLCJtb3VzZURyYWciLCJuYXYiLCJkb3RzIiwibmF2VGV4dCIsInVzZWZ1bGxzbGlkZXIiLCJzbGlkZUJ5Iiwic2hvd0J1dHQiLCJ0ZXh0IiwiaSIsImxlbmd0aCIsIm9mZnNldEhlaWdodCIsImFkZENsYXNzIiwibG9hZENvbW1lbnRzIiwiY29udGFpbmVyIiwidGFyZ2V0IiwiYWpheCIsInVybCIsImNhY2hlIiwidHlwZSIsInN1Y2Nlc3MiLCJodG1sIiwiYXBwZW5kIiwiaW5kZXhQYWdlIiwib3BlbmltYWdlIiwiYmxvY2siLCJhY3RpdmUiLCJmaW5kIiwicG9wdXAiLCJmYWRlSW4iLCJjbG9uZSIsImZhZGVPdXQiLCJ0ZXh0Q3V0IiwiZWFjaCIsIml0ZW0iLCJlbGVtZW50VGV4dCIsImlubmVyVGV4dCIsInJlc3VsdCIsInN1YnN0cmluZyIsInJlcGxhY2UiLCJtYXBzQ3VzdG9tIiwieW1hcHMiLCJyZWFkeSIsIm15TWFwIiwiTWFwIiwiY2VudGVyIiwiem9vbSIsInNlYXJjaENvbnRyb2xQcm92aWRlciIsIk15SWNvbkNvbnRlbnRMYXlvdXQiLCJ0ZW1wbGF0ZUxheW91dEZhY3RvcnkiLCJjcmVhdGVDbGFzcyIsIm15UGxhY2VtYXJrV2l0aENvbnRlbnQiLCJQbGFjZW1hcmsiLCJoaW50Q29udGVudCIsImljb25MYXlvdXQiLCJpY29uSW1hZ2VIcmVmIiwiaWNvbkNvbnRlbnRMYXlvdXQiLCJnZW9PYmplY3RzIiwiYWRkIiwic2hvd1BpYyIsImltZyIsInNob3ciLCJlbXB0eSIsImhpZGUiLCJjYXB0aW9ucyIsIiRjbGFtcCIsImNsYW1wIl0sIm1h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ZUFBZ0IsU0FBU1IsR0FDL0MyQixFQUFVaUIsVUFDVmpCLEVBQVVnRCxRQUNWbEMsRUFBTW1DLFdBTWQsU0FBU3hDLFlBRVAsSUFPb0JXLEVBUGhCOEIsRUFBVzNFLEVBQUUscUJBQ2IyRSxFQUFTdEQsU0FDWHNELEVBQVMvQixLQUFLLFdBQ1pnQyxPQUFPM0UsS0FBTSxDQUFFNEUsTUFBTyxNQUlOaEMsRUFGUDhCLEVBR1gzRSxFQUFFSyxVQUFVQyxHQUFHLFFBQVMsVUFBVyxTQUFTUixHQUMxQyxHQUFJK0MsRUFBSzNDLFFBQVEsY0FDZixJQUFLLElBQUlrQixFQUFJLEVBQUdBLEVBQUl5QixFQUFLeEIsT0FBUUQsSUFDL0J3RCxPQUFPNUUsRUFBRTZDLEdBQU16QixHQUFJLENBQUV5RCxNQUFPLGNBMUx0QzdFLEVBQUVLLFVBQVVnRCxNQUFNLFdBQ2hCakQsV0FDQUcsYUFDQTRCLFlBQ0FRLFVBQ0FRLGFBQ0FuQyxnQkFDQUUsV0FDQU0sZUFDQVUsWUFDQW9DIiwiZmlsZSI6Im1haW4uanMiLCJzb3VyY2VzQ29udGVudCI6WyIkKGRvY3VtZW50KS5yZWFkeShmdW5jdGlvbigpIHtcclxuICBzaG93SGlkZSgpO1xyXG4gIG1haW5zbGlkZXIoKTtcclxuICBvcGVuaW1hZ2UoKTtcclxuICB0ZXh0Q3V0KCk7XHJcbiAgbWFwc0N1c3RvbSgpO1xyXG4gIHVzZWZ1bGxzbGlkZXIoKTtcclxuICBzaG93QnV0dCgpO1xyXG4gIGxvYWRDb21tZW50cygpO1xyXG4gIGluZGV4UGFnZSgpO1xyXG4gIHNob3dQaWMoKTtcclxufSk7XHJcblxyXG5mdW5jdGlvbiBzaG93SGlkZUJsb2NrKGUpIHtcclxuICBlLnByZXZlbnREZWZhdWx0KCk7XHJcblxyXG4gIHZhciBibG9jayA9ICQodGhpcykuY2xvc2VzdChcIi5zaC1ibG9ja1wiKTtcclxuICBibG9jay50b2dnbGVDbGFzcyhcInNoLWhpZGRlblwiKTtcclxufVxyXG5cclxuZnVuY3Rpb24gc2hvd0hpZGUoKSB7XHJcbiAgJChkb2N1bWVudCkub24oXCJjbGlja1wiLCBcIi5zaC1idG4sIC5zaG93LXRleHRcIiwgc2hvd0hpZGVCbG9jayk7XHJcbiAgJChkb2N1bWVudCkub24oXCJjbGlja1wiLCBcIi5jbHMtYnRuXCIsIHNob3dIaWRlQmxvY2spO1xyXG59XHJcblxyXG5mdW5jdGlvbiBtYWluc2xpZGVyKCkge1xyXG4gICQoXCIubWFpbnNsaWRlclwiKS5vd2xDYXJvdXNlbCh7XHJcbiAgICBsb29wOiB0cnVlLFxyXG4gICAgaXRlbXM6IDEsXHJcbiAgICBhdXRvcGxheTogZmFsc2UsXHJcbiAgICBtb3VzZURyYWc6IGZhbHNlLFxyXG4gICAgbmF2OiB0cnVlLFxyXG4gICAgZG90czogZmFsc2UsXHJcbiAgICBuYXZUZXh0OiBmYWxzZVxyXG4gIH0pO1xyXG59XHJcblxyXG5mdW5jdGlvbiB1c2VmdWxsc2xpZGVyKCkge1xyXG4gICQoXCIudXNlZnVsbHNsaWRlclwiKS5vd2xDYXJvdXNlbCh7XHJcbiAgICBsb29wOiBmYWxzZSxcclxuICAgIGl0ZW1zOiAyLFxyXG4gICAgYXV0b3BsYXk6IGZhbHNlLFxyXG4gICAgbW91c2VEcmFnOiB0cnVlLFxyXG4gICAgbmF2OiB0cnVlLFxyXG4gICAgZG90czogdHJ1ZSxcclxuICAgIG5hdlRleHQ6IGZhbHNlLFxyXG4gICAgc2xpZGVCeTogMlxyXG4gIH0pO1xyXG59XHJcblxyXG5mdW5jdGlvbiBzaG93QnV0dCgpIHtcclxuICB2YXIgaGVpZ2h0VGV4dCA9IDEzMjtcclxuICB2YXIgdGV4dCA9ICQoXCIuc2gtYmxvY2suc2gtaGlkZGVuIHBcIik7XHJcblxyXG4gIGZvciAodmFyIGkgPSAwOyBpIDwgdGV4dC5sZW5ndGg7IGkrKykge1xyXG4gICAgaWYgKGhlaWdodFRleHQgPCB0ZXh0W2ldLm9mZnNldEhlaWdodCkge1xyXG4gICAgICAkKHRleHRbaV0pXHJcbiAgICAgICAgLmNsb3Nlc3QoXCIuc2gtYmxvY2suc2gtaGlkZGVuXCIpXHJcbiAgICAgICAgLmFkZENsYXNzKFwic2hvdy1idXR0b25cIik7XHJcbiAgICB9XHJcbiAgfVxyXG59XHJcblxyXG5mdW5jdGlvbiBsb2FkQ29tbWVudHMoKSB7XHJcbiAgJChkb2N1bWVudCkub24oXCJjbGlja1wiLCBcIi5jb21tZW50cyAuY291bnRlci1pdGVtXCIsIGZ1bmN0aW9uKGUpIHtcclxuICAgIHZhciBjb250YWluZXIgPSAkKFwiLmNvbW1lbnRzLWl0ZW1cIiwgJChlLnRhcmdldCkuY2xvc2VzdChcIi5jb21tZW50c1wiKSk7XHJcbiAgICAkLmFqYXgoe1xyXG4gICAgICB1cmw6IFwiLi9zcmMvYmxvY2tzL3Rlc3RzL3Rlc3QuaHRtbFwiLFxyXG4gICAgICBjYWNoZTogZmFsc2UsXHJcbiAgICAgIHR5cGU6IFwiR0VUXCIsXHJcbiAgICAgIHN1Y2Nlc3M6IGZ1bmN0aW9uKGh0bWwpIHtcclxuICAgICAgICAkKGNvbnRhaW5lcikuYXBwZW5kKGh0bWwpO1xyXG4gICAgICAgIHNob3dCdXR0KCk7IC8v0LTQvtCx0LDQstC70Y/QtdC8INC60LvQsNGB0YEsINC10YHQu9C4INC60L7QvNC80LXQvdGC0LDRgNC40Lkg0L/RgNC10LLRi9GI0LDQtdGCINC00LXRhNC+0LvRgtC90YPRjiDQstGL0YHQvtGC0YNcclxuICAgICAgICBpbmRleFBhZ2UoKTtcclxuICAgICAgfVxyXG4gICAgfSk7XHJcbiAgfSk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIG9wZW5pbWFnZSgpIHtcclxuICAkKGRvY3VtZW50KS5vbihcImNsaWNrXCIsIFwiLm9wZW4taW1nXCIsIGZ1bmN0aW9uKGUpIHtcclxuICAgIGUucHJldmVudERlZmF1bHQoKTtcclxuXHJcbiAgICB2YXIgYmxvY2sgPSAkKHRoaXMpLmNsb3Nlc3QoXCIuYmxvY2tcIik7XHJcbiAgICB2YXIgYWN0aXZlID0gYmxvY2suZmluZChcImRpdi5hY3RpdmVcIikuZmluZChcImltZ1wiKTtcclxuICAgIHZhciBwb3B1cCA9IGJsb2NrLmZpbmQoXCIucG9wdXBcIik7XHJcblxyXG4gICAgcG9wdXBcclxuICAgICAgLmZhZGVJbigpXHJcbiAgICAgIC5odG1sKCQoYWN0aXZlWzBdKS5jbG9uZSgpKVxyXG4gICAgICAuYXBwZW5kKCc8ZGl2IGNsYXNzPVwicG9wdXAtY2xvc2VcIj48L2Rpdj4nKTtcclxuICAgIGNsb3NlUG9wdXAoKTtcclxuXHJcbiAgICBmdW5jdGlvbiBjbG9zZVBvcHVwKCkge1xyXG4gICAgICAkKGRvY3VtZW50KS5vbihcImNsaWNrXCIsIFwiLnBvcHVwLWNsb3NlXCIsIGZ1bmN0aW9uKGUpIHtcclxuICAgICAgICBwb3B1cC5mYWRlT3V0KCk7XHJcbiAgICAgIH0pO1xyXG4gICAgfVxyXG4gIH0pO1xyXG59XHJcblxyXG5mdW5jdGlvbiB0ZXh0Q3V0KCkge1xyXG4gIHZhciB0ZXh0ID0gJChkb2N1bWVudCkuZmluZChcIi5uZXdzLXByZXZpZXcgcFwiKTtcclxuICB0ZXh0LmVhY2goZnVuY3Rpb24oaSwgaXRlbSkge1xyXG4gICAgdmFyIHNpemUgPSA5ODtcclxuICAgIHZhciBlbGVtZW50VGV4dCA9IGl0ZW0uaW5uZXJUZXh0O1xyXG4gICAgaWYgKGVsZW1lbnRUZXh0Lmxlbmd0aCA+IHNpemUpIHtcclxuICAgICAgdmFyIHJlc3VsdCA9IGVsZW1lbnRUZXh0LnN1YnN0cmluZygwLCBzaXplKSArIFwiLi4uXCI7XHJcbiAgICAgIHJlc3VsdC5yZXBsYWNlKC9cXHN7Mix9L2csIFwiIFwiKTtcclxuICAgICAgaXRlbS5pbm5lclRleHQgPSByZXN1bHQ7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICByZXR1cm4gaXRlbTtcclxuICAgIH1cclxuICB9KTtcclxufVxyXG5cclxuZnVuY3Rpb24gbWFwc0N1c3RvbSgpIHtcclxuICB5bWFwcy5yZWFkeShmdW5jdGlvbigpIHtcclxuICAgIHZhciBteU1hcCA9IG5ldyB5bWFwcy5NYXAoXHJcbiAgICAgICAgXCJtYXBcIixcclxuICAgICAgICB7XHJcbiAgICAgICAgICBjZW50ZXI6IFs1Ni44NTIwNzEsIDUzLjIxMzQ1OF0sXHJcbiAgICAgICAgICB6b29tOiAxN1xyXG4gICAgICAgIH0sXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgc2VhcmNoQ29udHJvbFByb3ZpZGVyOiBcInlhbmRleCNzZWFyY2hcIlxyXG4gICAgICAgIH1cclxuICAgICAgKSxcclxuICAgICAgTXlJY29uQ29udGVudExheW91dCA9IHltYXBzLnRlbXBsYXRlTGF5b3V0RmFjdG9yeS5jcmVhdGVDbGFzcyhcclxuICAgICAgICAnPGRpdiBzdHlsZT1cImNvbG9yOiAjRkZGRkZGOyBmb250LXdlaWdodDogYm9sZDtcIj4kW3Byb3BlcnRpZXMuaWNvbkNvbnRlbnRdPC9kaXY+J1xyXG4gICAgICApO1xyXG4gICAgbXlQbGFjZW1hcmtXaXRoQ29udGVudCA9IG5ldyB5bWFwcy5QbGFjZW1hcmsoXHJcbiAgICAgIFs1Ni44NTIwNzEsIDUzLjIxMzQ1OF0sXHJcbiAgICAgIHtcclxuICAgICAgICBoaW50Q29udGVudDogXCLQm9C40YXQstC40L3RhtC10LLQsCwgNDZcIlxyXG4gICAgICB9LFxyXG4gICAgICB7XHJcbiAgICAgICAgaWNvbkxheW91dDogXCJkZWZhdWx0I2ltYWdlV2l0aENvbnRlbnRcIixcclxuICAgICAgICBpY29uSW1hZ2VIcmVmOiBcIi4vaW1hZ2VzL2ljb24ucG5nXCIsXHJcbiAgICAgICAgLy8gaWNvbkltYWdlU2l6ZTogWzQ4LCA3MF0sXHJcbiAgICAgICAgLy8gaWNvbkltYWdlT2Zmc2V0OiBbLTI0LCAtNjRdLFxyXG4gICAgICAgIC8vIGljb25Db250ZW50T2Zmc2V0OiBbMTUsIDE1XSxcclxuICAgICAgICBpY29uQ29udGVudExheW91dDogTXlJY29uQ29udGVudExheW91dFxyXG4gICAgICB9XHJcbiAgICApO1xyXG5cclxuICAgIG15TWFwLmdlb09iamVjdHMuYWRkKG15UGxhY2VtYXJrV2l0aENvbnRlbnQpO1xyXG4gIH0pO1xyXG59XHJcblxyXG5mdW5jdGlvbiBzaG93UGljKCkge1xyXG4gICQoZG9jdW1lbnQpLm9uKFwiY2xpY2tcIiwgXCIub3Blbi1pbWdcIiwgZnVuY3Rpb24oZSkge1xyXG4gICAgdmFyIGNvbnRhaW5lciA9ICQoXCIucG9wdXBcIiwgJChlLnRhcmdldCkuY2xvc2VzdChcIi5pdGVtXCIpKTtcclxuICAgIHZhciBpbWcgPSAkKFwiLmFsYnVtLXByZXZcIiwgJChlLnRhcmdldCkuY2xvc2VzdChcIi5pdGVtXCIpKTtcclxuICAgIHZhciBwb3B1cCA9ICQoXCIudmVpbFwiKTtcclxuICAgIHBvcHVwLnNob3coKTtcclxuICAgIGNvbnRhaW5lclxyXG4gICAgICAuaHRtbCgkKGltZykuY2xvbmUoKSlcclxuICAgICAgLmZhZGVJbigpXHJcbiAgICAgIC5hcHBlbmQoJzxkaXYgY2xhc3M9XCJwb3B1cC1jbG9zZVwiPjwvZGl2PicpO1xyXG5cclxuICAgIGNsb3NlUG9wdXAoKTtcclxuXHJcbiAgICBmdW5jdGlvbiBjbG9zZVBvcHVwKCkge1xyXG4gICAgICAkKGRvY3VtZW50KS5vbihcImNsaWNrXCIsIFwiLnBvcHVwLWNsb3NlXCIsIGZ1bmN0aW9uKGUpIHtcclxuICAgICAgICBjb250YWluZXIuZmFkZU91dCgpO1xyXG4gICAgICAgIGNvbnRhaW5lci5lbXB0eSgpO1xyXG4gICAgICAgIHBvcHVwLmhpZGUoKTtcclxuICAgICAgfSk7XHJcbiAgICB9XHJcbiAgfSk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGluZGV4UGFnZSgpIHtcclxuICAvLyDQvtCx0YDQtdC30LDRgtGMINC90LDQt9Cy0LDQvdC40LUg0YDRg9Cx0YDQuNC6INC/0L4g0YjQuNGA0LjQvdC1XHJcbiAgdmFyIGNhcHRpb25zID0gJChcIi50ZXh0LWNvbnRhaW5lciBwXCIpO1xyXG4gIGlmIChjYXB0aW9ucy5sZW5ndGgpIHtcclxuICAgIGNhcHRpb25zLmVhY2goZnVuY3Rpb24oKSB7XHJcbiAgICAgICRjbGFtcCh0aGlzLCB7IGNsYW1wOiAzIH0pO1xyXG4gICAgfSk7XHJcbiAgICBjaGVja0NsYW1wKGNhcHRpb25zKTtcclxuICB9XHJcbiAgZnVuY3Rpb24gY2hlY2tDbGFtcChpdGVtKSB7XHJcbiAgICAkKGRvY3VtZW50KS5vbihcImNsaWNrXCIsIFwiLnNoLWJ0blwiLCBmdW5jdGlvbihlKSB7XHJcbiAgICAgIGlmIChpdGVtLmNsb3Nlc3QoXCIuc2gtaGlkZGVuXCIpKSB7XHJcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBpdGVtLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAkY2xhbXAoJChpdGVtKVtpXSwgeyBjbGFtcDogXCIxMDAwcHhcIiB9KTtcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgIH0pO1xyXG4gIH1cclxufVxyXG5cclxuLy8gJChkb2N1bWVudCkub24oJ2NsaWNrJywgJyNoZWFkZXIgLm1lbnUgYScsIGZ1bmN0aW9uKGUpe1xyXG4vLyAgICAgdmFyIGhyZWYgPSAkKHRoaXMpLmF0dHIoJ2hyZWYnKTtcclxuLy8gICAgIGlmIChocmVmLmluZGV4T2YoJy8jJykgPT09IDApIHtcclxuLy8gICAgICAgICB2YXIgaWQgPSBocmVmLnN1YnN0cmluZygyKSxcclxuLy8gICAgICAgICAgICAgYmxvY2sgPSAkKCcjJytpZCk7XHJcblxyXG4vLyAgICAgICAgIGlmIChibG9jay5sZW5ndGgpIHtcclxuLy8gICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG4vLyAgICAgICAgICAgICAkKCdodG1sLCBib2R5JykuYW5pbWF0ZSh7XHJcbi8vICAgICAgICAgICAgICAgICAnc2Nyb2xsVG9wJyA6IGJsb2NrLm9mZnNldCgpLnRvcCAtIDQwXHJcbi8vICAgICAgICAgICAgIH0pO1xyXG4vLyAgICAgICAgIH1cclxuLy8gICAgIH1cclxuLy8gfSk7XHJcbi8vfVxyXG5cclxuLy8gZnVuY3Rpb24gc2VjdGlvblBhZ2UoKSB7XHJcbi8vICAgdmFyIHB1YnMgPSAkKFwiLnNlY3Rpb24tcHVicyAucHViLWNvbnRhaW5lclwiKTtcclxuLy8gICBpZiAocHVicy5sZW5ndGgpIHtcclxuLy8gICAgIHB1YnMuZWFjaChmdW5jdGlvbigpIHtcclxuLy8gICAgICAgdmFyIGNhcHRpb24gPSAkKFwiLmNhcHRpb25cIiwgJCh0aGlzKSksXHJcbi8vICAgICAgICAgYW5ub3RhdGlvbiA9ICQoXCIuYW5ub3RhdGlvblwiLCAkKHRoaXMpKTtcclxuLy8gICAgICAgY2hlY2tDbGFtcCgkKHRoaXMpKTtcclxuLy8gICAgICAgaWYgKGNhcHRpb24uaGVpZ2h0KCkgPiA5MiB8fCBhbm5vdGF0aW9uLmhlaWdodCgpID4gOTYpIHtcclxuLy8gICAgICAgICAkKHRoaXMpLmFkZENsYXNzKFwic2gtaGlkZGVuIGhpZGVhYmxlXCIpO1xyXG4vLyAgICAgICB9IGVsc2Uge1xyXG4vLyAgICAgICAgICQodGhpcykucmVtb3ZlQ2xhc3MoXCJzaC1oaWRkZW4gaGlkZWFibGVcIik7XHJcbi8vICAgICAgIH1cclxuLy8gICAgIH0pO1xyXG5cclxuLy8gICAgIHB1YnMub24oXCJjbGlja1wiLCBcIi5zaC1idG5cIiwgZnVuY3Rpb24oKSB7XHJcbi8vICAgICAgIGNoZWNrQ2xhbXAoJCh0aGlzKS5jbG9zZXN0KFwiLnNoLWJsb2NrXCIpKTtcclxuLy8gICAgIH0pO1xyXG4vLyAgIH1cclxuXHJcbi8vICAgZnVuY3Rpb24gY2hlY2tDbGFtcChpdGVtKSB7XHJcbi8vICAgICAvLyDRjdGC0L7RgiDRgdC60YDQuNC/0YIg0YHRgNCw0LHQsNGC0YvQstCw0LXRgiDRgNCw0L3RjNGI0LUg0YfQtdC8INGB0YLQsNC90LTQsNGA0YLQvdGL0Lkg0LTQu9GPIHNoLWJsb2NrLCDQv9C+0Y3RgtC+0LzRgyDRgtGD0YIg0L3QvtCx0L7RgNC+0YIg0L/RgNC+0LLQtdGA0LrQsFxyXG4vLyAgICAgaWYgKGl0ZW0uaXMoXCIuc2gtaGlkZGVuXCIpKSB7XHJcbi8vICAgICAgICRjbGFtcCgkKFwiLmNhcHRpb25cIiwgaXRlbSlbMF0sIHsgY2xhbXA6IFwiMTAwMHB4XCIgfSk7XHJcbi8vICAgICAgICRjbGFtcCgkKFwiLmFubm90YXRpb25cIiwgaXRlbSlbMF0sIHsgY2xhbXA6IFwiMTAwMHB4XCIgfSk7XHJcbi8vICAgICB9IGVsc2Uge1xyXG4vLyAgICAgICAkY2xhbXAoJChcIi5jYXB0aW9uXCIsIGl0ZW0pWzBdLCB7IGNsYW1wOiAzIH0pO1xyXG4vLyAgICAgICAkY2xhbXAoJChcIi5hbm5vdGF0aW9uXCIsIGl0ZW0pWzBdLCB7IGNsYW1wOiAzIH0pO1xyXG4vLyAgICAgfVxyXG4vLyAgIH1cclxuLy8gfVxyXG4iXX0=
