function hideMenuItems(){var e=$(".burger-time .menu-container .main-menu"),t=$(".main-menu").not(e),n=$(".hidden-list");if(!t.length||$("a",t).length<=7)return!0;$("li:gt(5)",t).appendTo(n),t.addClass("sh-block sh-hidden")}function showHideBlock(e){e.preventDefault(),$(this).closest(".sh-block").toggleClass("sh-hidden")}function showHide(){$(document).on("click",".sh-btn, .show-text",showHideBlock),$(document).on("click",".cls-btn",showHideBlock)}function mainslider(){$(".mainslider").owlCarousel({loop:!0,items:1,autoplay:!1,mouseDrag:!1,nav:!0,dots:!1,navText:!1})}function usefullslider(){$(".usefullslider").owlCarousel({loop:!1,items:2,autoplay:!1,mouseDrag:!0,nav:!0,dots:!0,navText:!1,slideBy:2})}function showButt(){for(var e=$(".sh-block.sh-hidden p"),t=0;t<e.length;t++)132<e[t].offsetHeight&&$(e[t]).closest(".sh-block.sh-hidden").addClass("show-button")}function loadComments(){$(document).on("click",".comments .counter-item",function(e){var t=$(".comments-item",$(e.target).closest(".comments"));$.ajax({url:"./src/blocks/tests/test.html",cache:!1,type:"GET",success:function(e){$(t).append(e)}})})}function openSliderImage(){$(document).on("click",".open-img",function(e){e.preventDefault();var t=$(this).closest(".block"),n=t.find("div.active").find("img"),o=t.find(".popup");o.fadeIn().html($(n[0]).clone()).append('<div class="popup-close"></div>'),$(document).on("click",".popup-close",function(e){o.fadeOut()})})}function textCut(){$(document).find(".news-preview p").each(function(e,t){var n=t.innerText;if(!(98<n.length))return t;var o=n.substring(0,98)+"...";o.replace(/\s{2,}/g," "),t.innerText=o})}function mapsCustom(){ymaps.ready(function(){var e=new ymaps.Map("map",{center:[56.852071,53.213458],zoom:17},{searchControlProvider:"yandex#search"}),t=ymaps.templateLayoutFactory.createClass('<div style="color: #FFFFFF; font-weight: bold;">$[properties.iconContent]</div>');myPlacemarkWithContent=new ymaps.Placemark([56.852071,53.213458],{hintContent:"Лихвинцева, 46"},{iconLayout:"default#imageWithContent",iconImageHref:"./images/icon.png",iconContentLayout:t}),e.geoObjects.add(myPlacemarkWithContent)})}function closeDiv(){$(document).on("mouseup",function(e){var t=$(".popup",$(e.target).closest(".item")),n=$(".veil"),o=$(".popup");o.is(e.target)||0!==o.has(e.target).length||(o.hide(),t.empty(),n.hide())})}function showPic(){$(document).on("click",".open-img",function(e){var t=$(".popup",$(e.target).closest(".item")),n=$(".img-prev",$(e.target).closest(".item")),o=$(".veil");o.show(),t.html($(n).clone()).fadeIn().append('<div class="popup-close"></div>'),$(document).on("click",".popup-close",function(e){t.fadeOut(),t.empty(),o.hide()}),closeDiv()})}function indexPage(){var n,e=$(".text-container p");e.length&&(e.each(function(){$clamp(this,{clamp:3})}),n=e,$(document).on("click",".sh-btn",function(e){if(n.closest(".sh-hidden"))for(var t=0;t<n.length;t++)$clamp($(n)[t],{clamp:"1000px"})}))}function sectionPage(){var e=$(".section-pubs .pub-container");e.length&&(e.each(function(){var e=$(".caption",$(this)),t=$(".annotation",$(this));checkClamp($(this)),92<e.height()||96<t.height()?$(this).addClass("sh-hidden hideable"):$(this).removeClass("sh-hidden hideable")}),e.on("click",".sh-btn",function(){checkClamp($(this).closest(".sh-block"))}))}$(document).ready(function(){showHide(),mainslider(),openSliderImage(),textCut(),mapsCustom(),usefullslider(),showButt(),loadComments(),indexPage(),showPic(),hideMenuItems()});
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm1haW4uanMiXSwibmFtZXMiOlsiaGlkZU1lbnVJdGVtcyIsImJ1cmdlck1lbnUiLCIkIiwiY29udGFpbmVyIiwibm90IiwiaGlkZUNvbnRhaW5lciIsImxlbmd0aCIsImxpbWl0IiwiYXBwZW5kVG8iLCJhZGRDbGFzcyIsInNob3dIaWRlQmxvY2siLCJlIiwicHJldmVudERlZmF1bHQiLCJ0aGlzIiwiY2xvc2VzdCIsInRvZ2dsZUNsYXNzIiwic2hvd0hpZGUiLCJkb2N1bWVudCIsIm9uIiwibWFpbnNsaWRlciIsIm93bENhcm91c2VsIiwibG9vcCIsIml0ZW1zIiwiYXV0b3BsYXkiLCJtb3VzZURyYWciLCJuYXYiLCJkb3RzIiwibmF2VGV4dCIsInVzZWZ1bGxzbGlkZXIiLCJzbGlkZUJ5Iiwic2hvd0J1dHQiLCJ0ZXh0IiwiaSIsIm9mZnNldEhlaWdodCIsImxvYWRDb21tZW50cyIsInRhcmdldCIsImFqYXgiLCJ1cmwiLCJjYWNoZSIsInR5cGUiLCJzdWNjZXNzIiwiaHRtbCIsImFwcGVuZCIsIm9wZW5TbGlkZXJJbWFnZSIsImJsb2NrIiwiYWN0aXZlIiwiZmluZCIsInBvcHVwIiwiZmFkZUluIiwiY2xvbmUiLCJmYWRlT3V0IiwidGV4dEN1dCIsImVhY2giLCJpdGVtIiwiZWxlbWVudFRleHQiLCJpbm5lclRleHQiLCJyZXN1bHQiLCJzdWJzdHJpbmciLCJyZXBsYWNlIiwibWFwc0N1c3RvbSIsInltYXBzIiwicmVhZHkiLCJteU1hcCIsIk1hcCIsImNlbnRlciIsInpvb20iLCJzZWFyY2hDb250cm9sUHJvdmlkZXIiLCJNeUljb25Db250ZW50TGF5b3V0IiwidGVtcGxhdGVMYXlvdXRGYWN0b3J5IiwiY3JlYXRlQ2xhc3MiLCJteVBsYWNlbWFya1dpdGhDb250ZW50IiwiUGxhY2VtYXJrIiwiaGludENvbnRlbnQiLCJpY29uTGF5b3V0IiwiaWNvbkltYWdlSHJlZiIsImljb25Db250ZW50TGF5b3V0IiwiZ2VvT2JqZWN0cyIsImFkZCIsImNsb3NlRGl2IiwiZGl2IiwiaXMiLCJoYXMiLCJoaWRlIiwiZW1wdHkiLCJzaG93UGljIiwiaW1nIiwic2hvdyIsImluZGV4UGFnZSIsImNhcHRpb25zIiwiJGNsYW1wIiwiY2xhbXAiLCJzZWN0aW9uUGFnZSIsInB1YnMiLCJjYXB0aW9uIiwiYW5ub3RhdGlvbiIsImNoZWNrQ2xhbXAiLCJoZWlnaHQiLCJyZW1vdmVDbGFzcyJdLCJtYXBwaW5ncyI6IkFBY0EsU0FBU0EsZ0JBRVAsSUFDSUMsRUFBYUMsRUFBRSwyQ0FFZkMsRUFBWUQsRUFBRSxjQUFjRSxJQUFJSCxHQUNoQ0ksRUFBZ0JILEVBQUUsZ0JBQ3RCLElBQUtDLEVBQVVHLFFBQVVKLEVBQUUsSUFBS0MsR0FBV0csUUFBVUMsRUFBVyxPQUFPLEVBS3JFTCxFQUFFLFdBQThCQyxHQUFXSyxTQUFTSCxHQUNwREYsRUFBVU0sU0FBUyxzQkFJdkIsU0FBU0MsY0FBY0MsR0FDckJBLEVBQUVDLGlCQUVVVixFQUFFVyxNQUFNQyxRQUFRLGFBQ3RCQyxZQUFZLGFBR3BCLFNBQVNDLFdBQ1BkLEVBQUVlLFVBQVVDLEdBQUcsUUFBUyxzQkFBdUJSLGVBQy9DUixFQUFFZSxVQUFVQyxHQUFHLFFBQVMsV0FBWVIsZUFHdEMsU0FBU1MsYUFDUGpCLEVBQUUsZUFBZWtCLFlBQVksQ0FDM0JDLE1BQU0sRUFDTkMsTUFBTyxFQUNQQyxVQUFVLEVBQ1ZDLFdBQVcsRUFDWEMsS0FBSyxFQUNMQyxNQUFNLEVBQ05DLFNBQVMsSUFJYixTQUFTQyxnQkFDUDFCLEVBQUUsa0JBQWtCa0IsWUFBWSxDQUM5QkMsTUFBTSxFQUNOQyxNQUFPLEVBQ1BDLFVBQVUsRUFDVkMsV0FBVyxFQUNYQyxLQUFLLEVBQ0xDLE1BQU0sRUFDTkMsU0FBUyxFQUNURSxRQUFTLElBSWIsU0FBU0MsV0FJUCxJQUhBLElBQ0lDLEVBQU83QixFQUFFLHlCQUVKOEIsRUFBSSxFQUFHQSxFQUFJRCxFQUFLekIsT0FBUTBCLElBSGhCLElBSUVELEVBQUtDLEdBQUdDLGNBQ3ZCL0IsRUFBRTZCLEVBQUtDLElB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Sy9DLE9BQVEwQixJQUMvQnlELE9BQU92RixFQUFFbUQsR0FBTXJCLEdBQUksQ0FBRTBELE1BQU8sY0F1QnRDLFNBQVNDLGNBQ1AsSUFBSUMsRUFBTzFGLEVBQUUsZ0NBQ1QwRixFQUFLdEYsU0FDUHNGLEVBQUt4QyxLQUFLLFdBQ1IsSUFBSXlDLEVBQVUzRixFQUFFLFdBQVlBLEVBQUVXLE9BQzVCaUYsRUFBYTVGLEVBQUUsY0FBZUEsRUFBRVcsT0FDbENrRixXQUFXN0YsRUFBRVcsT0FDVSxHQUFuQmdGLEVBQVFHLFVBQXVDLEdBQXRCRixFQUFXRSxTQUN0QzlGLEVBQUVXLE1BQU1KLFNBQVMsc0JBRWpCUCxFQUFFVyxNQUFNb0YsWUFBWSx3QkFJeEJMLEVBQUsxRSxHQUFHLFFBQVMsVUFBVyxXQUMxQjZFLFdBQVc3RixFQUFFVyxNQUFNQyxRQUFRLGlCQS9QakNaLEVBQUVlLFVBQVU0QyxNQUFNLFdBQ2hCN0MsV0FDQUcsYUFDQXdCLGtCQUNBUSxVQUNBUSxhQUNBL0IsZ0JBQ0FFLFdBQ0FJLGVBQ0FxRCxZQUNBSCxVQUNBcEYiLCJmaWxlIjoibWFpbi5qcyIsInNvdXJjZXNDb250ZW50IjpbIiQoZG9jdW1lbnQpLnJlYWR5KGZ1bmN0aW9uKCkge1xyXG4gIHNob3dIaWRlKCk7XHJcbiAgbWFpbnNsaWRlcigpO1xyXG4gIG9wZW5TbGlkZXJJbWFnZSgpO1xyXG4gIHRleHRDdXQoKTtcclxuICBtYXBzQ3VzdG9tKCk7XHJcbiAgdXNlZnVsbHNsaWRlcigpO1xyXG4gIHNob3dCdXR0KCk7XHJcbiAgbG9hZENvbW1lbnRzKCk7XHJcbiAgaW5kZXhQYWdlKCk7XHJcbiAgc2hvd1BpYygpO1xyXG4gIGhpZGVNZW51SXRlbXMoKTtcclxufSk7XHJcblxyXG5mdW5jdGlvbiBoaWRlTWVudUl0ZW1zKCkge1xyXG4gIC8v0LvQuNC80LjRgiDQv9C+0LrQsNC30YvQstCw0LXQvNGL0YUg0Y3Qu9C10LzQtdC90YLQvtCyXHJcbiAgdmFyIGxpbWl0ID0gNjtcclxuICB2YXIgYnVyZ2VyTWVudSA9ICQoXCIuYnVyZ2VyLXRpbWUgLm1lbnUtY29udGFpbmVyIC5tYWluLW1lbnVcIik7XHJcbiAgLy/QuNGB0LrQu9GO0YfQsNC10Lwg0LzQvtCx0LjQu9GM0L3QvtC1INC80LXQvdGOXHJcbiAgdmFyIGNvbnRhaW5lciA9ICQoXCIubWFpbi1tZW51XCIpLm5vdChidXJnZXJNZW51KTtcclxuICB2YXIgaGlkZUNvbnRhaW5lciA9ICQoXCIuaGlkZGVuLWxpc3RcIik7XHJcbiAgaWYgKCFjb250YWluZXIubGVuZ3RoIHx8ICQoXCJhXCIsIGNvbnRhaW5lcikubGVuZ3RoIDw9IGxpbWl0ICsgMSkgcmV0dXJuIHRydWU7XHJcblxyXG4gIGluaXQoKTtcclxuXHJcbiAgZnVuY3Rpb24gaW5pdCgpIHtcclxuICAgICQoXCJsaTpndChcIiArIChsaW1pdCAtIDEpICsgXCIpXCIsIGNvbnRhaW5lcikuYXBwZW5kVG8oaGlkZUNvbnRhaW5lcik7XHJcbiAgICBjb250YWluZXIuYWRkQ2xhc3MoXCJzaC1ibG9jayBzaC1oaWRkZW5cIik7XHJcbiAgfVxyXG59XHJcblxyXG5mdW5jdGlvbiBzaG93SGlkZUJsb2NrKGUpIHtcclxuICBlLnByZXZlbnREZWZhdWx0KCk7XHJcblxyXG4gIHZhciBibG9jayA9ICQodGhpcykuY2xvc2VzdChcIi5zaC1ibG9ja1wiKTtcclxuICBibG9jay50b2dnbGVDbGFzcyhcInNoLWhpZGRlblwiKTtcclxufVxyXG5cclxuZnVuY3Rpb24gc2hvd0hpZGUoKSB7XHJcbiAgJChkb2N1bWVudCkub24oXCJjbGlja1wiLCBcIi5zaC1idG4sIC5zaG93LXRleHRcIiwgc2hvd0hpZGVCbG9jayk7XHJcbiAgJChkb2N1bWVudCkub24oXCJjbGlja1wiLCBcIi5jbHMtYnRuXCIsIHNob3dIaWRlQmxvY2spO1xyXG59XHJcblxyXG5mdW5jdGlvbiBtYWluc2xpZGVyKCkge1xyXG4gICQoXCIubWFpbnNsaWRlclwiKS5vd2xDYXJvdXNlbCh7XHJcbiAgICBsb29wOiB0cnVlLFxyXG4gICAgaXRlbXM6IDEsXHJcbiAgICBhdXRvcGxheTogZmFsc2UsXHJcbiAgICBtb3VzZURyYWc6IGZhbHNlLFxyXG4gICAgbmF2OiB0cnVlLFxyXG4gICAgZG90czogZmFsc2UsXHJcbiAgICBuYXZUZXh0OiBmYWxzZVxyXG4gIH0pO1xyXG59XHJcblxyXG5mdW5jdGlvbiB1c2VmdWxsc2xpZGVyKCkge1xyXG4gICQoXCIudXNlZnVsbHNsaWRlclwiKS5vd2xDYXJvdXNlbCh7XHJcbiAgICBsb29wOiBmYWxzZSxcclxuICAgIGl0ZW1zOiAyLFxyXG4gICAgYXV0b3BsYXk6IGZhbHNlLFxyXG4gICAgbW91c2VEcmFnOiB0cnVlLFxyXG4gICAgbmF2OiB0cnVlLFxyXG4gICAgZG90czogdHJ1ZSxcclxuICAgIG5hdlRleHQ6IGZhbHNlLFxyXG4gICAgc2xpZGVCeTogMlxyXG4gIH0pO1xyXG59XHJcblxyXG5mdW5jdGlvbiBzaG93QnV0dCgpIHtcclxuICB2YXIgaGVpZ2h0VGV4dCA9IDEzMjtcclxuICB2YXIgdGV4dCA9ICQoXCIuc2gtYmxvY2suc2gtaGlkZGVuIHBcIik7XHJcblxyXG4gIGZvciAodmFyIGkgPSAwOyBpIDwgdGV4dC5sZW5ndGg7IGkrKykge1xyXG4gICAgaWYgKGhlaWdodFRleHQgPCB0ZXh0W2ldLm9mZnNldEhlaWdodCkge1xyXG4gICAgICAkKHRleHRbaV0pXHJcbiAgICAgICAgLmNsb3Nlc3QoXCIuc2gtYmxvY2suc2gtaGlkZGVuXCIpXHJcbiAgICAgICAgLmFkZENsYXNzKFwic2hvdy1idXR0b25cIik7XHJcbiAgICB9XHJcbiAgfVxyXG59XHJcblxyXG5mdW5jdGlvbiBsb2FkQ29tbWVudHMoKSB7XHJcbiAgJChkb2N1bWVudCkub24oXCJjbGlja1wiLCBcIi5jb21tZW50cyAuY291bnRlci1pdGVtXCIsIGZ1bmN0aW9uKGUpIHtcclxuICAgIHZhciBjb250YWluZXIgPSAkKFwiLmNvbW1lbnRzLWl0ZW1cIiwgJChlLnRhcmdldCkuY2xvc2VzdChcIi5jb21tZW50c1wiKSk7XHJcbiAgICAkLmFqYXgoe1xyXG4gICAgICB1cmw6IFwiLi9zcmMvYmxvY2tzL3Rlc3RzL3Rlc3QuaHRtbFwiLFxyXG4gICAgICBjYWNoZTogZmFsc2UsXHJcbiAgICAgIHR5cGU6IFwiR0VUXCIsXHJcbiAgICAgIHN1Y2Nlc3M6IGZ1bmN0aW9uKGh0bWwpIHtcclxuICAgICAgICAkKGNvbnRhaW5lcikuYXBwZW5kKGh0bWwpO1xyXG4gICAgICB9XHJcbiAgICB9KTtcclxuICB9KTtcclxufVxyXG5cclxuZnVuY3Rpb24gb3BlblNsaWRlckltYWdlKCkge1xyXG4gICQoZG9jdW1lbnQpLm9uKFwiY2xpY2tcIiwgXCIub3Blbi1pbWdcIiwgZnVuY3Rpb24oZSkge1xyXG4gICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG5cclxuICAgIHZhciBibG9jayA9ICQodGhpcykuY2xvc2VzdChcIi5ibG9ja1wiKTtcclxuICAgIHZhciBhY3RpdmUgPSBibG9jay5maW5kKFwiZGl2LmFjdGl2ZVwiKS5maW5kKFwiaW1nXCIpO1xyXG4gICAgdmFyIHBvcHVwID0gYmxvY2suZmluZChcIi5wb3B1cFwiKTtcclxuXHJcbiAgICBwb3B1cFxyXG4gICAgICAuZmFkZUluKClcclxuICAgICAgLmh0bWwoJChhY3RpdmVbMF0pLmNsb25lKCkpXHJcbiAgICAgIC5hcHBlbmQoJzxkaXYgY2xhc3M9XCJwb3B1cC1jbG9zZVwiPjwvZGl2PicpO1xyXG4gICAgY2xvc2VQb3B1cCgpO1xyXG5cclxuICAgIGZ1bmN0aW9uIGNsb3NlUG9wdXAoKSB7XHJcbiAgICAgICQoZG9jdW1lbnQpLm9uKFwiY2xpY2tcIiwgXCIucG9wdXAtY2xvc2VcIiwgZnVuY3Rpb24oZSkge1xyXG4gICAgICAgIHBvcHVwLmZhZGVPdXQoKTtcclxuICAgICAgfSk7XHJcbiAgICB9XHJcbiAgfSk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIHRleHRDdXQoKSB7XHJcbiAgdmFyIHRleHQgPSAkKGRvY3VtZW50KS5maW5kKFwiLm5ld3MtcHJldmlldyBwXCIpO1xyXG4gIHRleHQuZWFjaChmdW5jdGlvbihpLCBpdGVtKSB7XHJcbiAgICB2YXIgc2l6ZSA9IDk4O1xyXG4gICAgdmFyIGVsZW1lbnRUZXh0ID0gaXRlbS5pbm5lclRleHQ7XHJcbiAgICBpZiAoZWxlbWVudFRleHQubGVuZ3RoID4gc2l6ZSkge1xyXG4gICAgICB2YXIgcmVzdWx0ID0gZWxlbWVudFRleHQuc3Vic3RyaW5nKDAsIHNpemUpICsgXCIuLi5cIjtcclxuICAgICAgcmVzdWx0LnJlcGxhY2UoL1xcc3syLH0vZywgXCIgXCIpO1xyXG4gICAgICBpdGVtLmlubmVyVGV4dCA9IHJlc3VsdDtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHJldHVybiBpdGVtO1xyXG4gICAgfVxyXG4gIH0pO1xyXG59XHJcblxyXG5mdW5jdGlvbiBtYXBzQ3VzdG9tKCkge1xyXG4gIHltYXBzLnJlYWR5KGZ1bmN0aW9uKCkge1xyXG4gICAgdmFyIG15TWFwID0gbmV3IHltYXBzLk1hcChcclxuICAgICAgICBcIm1hcFwiLFxyXG4gICAgICAgIHtcclxuICAgICAgICAgIGNlbnRlcjogWzU2Ljg1MjA3MSwgNTMuMjEzNDU4XSxcclxuICAgICAgICAgIHpvb206IDE3XHJcbiAgICAgICAgfSxcclxuICAgICAgICB7XHJcbiAgICAgICAgICBzZWFyY2hDb250cm9sUHJvdmlkZXI6IFwieWFuZGV4I3NlYXJjaFwiXHJcbiAgICAgICAgfVxyXG4gICAgICApLFxyXG4gICAgICBNeUljb25Db250ZW50TGF5b3V0ID0geW1hcHMudGVtcGxhdGVMYXlvdXRGYWN0b3J5LmNyZWF0ZUNsYXNzKFxyXG4gICAgICAgICc8ZGl2IHN0eWxlPVwiY29sb3I6ICNGRkZGRkY7IGZvbnQtd2VpZ2h0OiBib2xkO1wiPiRbcHJvcGVydGllcy5pY29uQ29udGVudF08L2Rpdj4nXHJcbiAgICAgICk7XHJcbiAgICBteVBsYWNlbWFya1dpdGhDb250ZW50ID0gbmV3IHltYXBzLlBsYWNlbWFyayhcclxuICAgICAgWzU2Ljg1MjA3MSwgNTMuMjEzNDU4XSxcclxuICAgICAge1xyXG4gICAgICAgIGhpbnRDb250ZW50OiBcItCb0LjRhdCy0LjQvdGG0LXQstCwLCA0NlwiXHJcbiAgICAgIH0sXHJcbiAgICAgIHtcclxuICAgICAgICBpY29uTGF5b3V0OiBcImRlZmF1bHQjaW1hZ2VXaXRoQ29udGVudFwiLFxyXG4gICAgICAgIGljb25JbWFnZUhyZWY6IFwiLi9pbWFnZXMvaWNvbi5wbmdcIixcclxuICAgICAgICAvLyBpY29uSW1hZ2VTaXplOiBbNDgsIDcwXSxcclxuICAgICAgICAvLyBpY29uSW1hZ2VPZmZzZXQ6IFstMjQsIC02NF0sXHJcbiAgICAgICAgLy8gaWNvbkNvbnRlbnRPZmZzZXQ6IFsxNSwgMTVdLFxyXG4gICAgICAgIGljb25Db250ZW50TGF5b3V0OiBNeUljb25Db250ZW50TGF5b3V0XHJcbiAgICAgIH1cclxuICAgICk7XHJcblxyXG4gICAgbXlNYXAuZ2VvT2JqZWN0cy5hZGQobXlQbGFjZW1hcmtXaXRoQ29udGVudCk7XHJcbiAgfSk7XHJcbn1cclxuXHJcbi8v0LfQsNC60YDQvtC10Lwg0L/QvtC/0LDQvyDQv9C+INC60LvQuNC60YMg0LLQvdC1INC10LPQvlxyXG5mdW5jdGlvbiBjbG9zZURpdigpIHtcclxuICAkKGRvY3VtZW50KS5vbihcIm1vdXNldXBcIiwgZnVuY3Rpb24oZSkge1xyXG4gICAgdmFyIGNvbnRhaW5lciA9ICQoXCIucG9wdXBcIiwgJChlLnRhcmdldCkuY2xvc2VzdChcIi5pdGVtXCIpKTtcclxuICAgIHZhciBwb3B1cCA9ICQoXCIudmVpbFwiKTtcclxuICAgIHZhciBkaXYgPSAkKFwiLnBvcHVwXCIpO1xyXG4gICAgaWYgKCFkaXYuaXMoZS50YXJnZXQpICYmIGRpdi5oYXMoZS50YXJnZXQpLmxlbmd0aCA9PT0gMCkge1xyXG4gICAgICBkaXYuaGlkZSgpO1xyXG4gICAgICBjb250YWluZXIuZW1wdHkoKTtcclxuICAgICAgcG9wdXAuaGlkZSgpO1xyXG4gICAgfVxyXG4gIH0pO1xyXG59XHJcblxyXG5mdW5jdGlvbiBzaG93UGljKCkge1xyXG4gICQoZG9jdW1lbnQpLm9uKFwiY2xpY2tcIiwgXCIub3Blbi1pbWdcIiwgZnVuY3Rpb24oZSkge1xyXG4gICAgdmFyIGNvbnRhaW5lciA9ICQoXCIucG9wdXBcIiwgJChlLnRhcmdldCkuY2xvc2VzdChcIi5pdGVtXCIpKTtcclxuICAgIHZhciBpbWcgPSAkKFwiLmltZy1wcmV2XCIsICQoZS50YXJnZXQpLmNsb3Nlc3QoXCIuaXRlbVwiKSk7XHJcbiAgICB2YXIgcG9wdXAgPSAkKFwiLnZlaWxcIik7XHJcbiAgICBwb3B1cC5zaG93KCk7XHJcbiAgICBjb250YWluZXJcclxuICAgICAgLmh0bWwoJChpbWcpLmNsb25lKCkpXHJcbiAgICAgIC5mYWRlSW4oKVxyXG4gICAgICAuYXBwZW5kKCc8ZGl2IGNsYXNzPVwicG9wdXAtY2xvc2VcIj48L2Rpdj4nKTtcclxuXHJcbiAgICBjbG9zZVBvcHVwKCk7XHJcbiAgICBjbG9zZURpdigpO1xyXG5cclxuICAgIGZ1bmN0aW9uIGNsb3NlUG9wdXAoKSB7XHJcbiAgICAgICQoZG9jdW1lbnQpLm9uKFwiY2xpY2tcIiwgXCIucG9wdXAtY2xvc2VcIiwgZnVuY3Rpb24oZSkge1xyXG4gICAgICAgIGNvbnRhaW5lci5mYWRlT3V0KCk7XHJcbiAgICAgICAgY29udGFpbmVyLmVtcHR5KCk7XHJcbiAgICAgICAgcG9wdXAuaGlkZSgpO1xyXG4gICAgICB9KTtcclxuICAgIH1cclxuICB9KTtcclxufVxyXG5cclxuZnVuY3Rpb24gaW5kZXhQYWdlKCkge1xyXG4gIC8vINC+0LHRgNC10LfQsNGC0Ywg0L3QsNC30LLQsNC90LjQtSDRgNGD0LHRgNC40Log0L/QviDRiNC40YDQuNC90LVcclxuICB2YXIgY2FwdGlvbnMgPSAkKFwiLnRleHQtY29udGFpbmVyIHBcIik7XHJcbiAgaWYgKGNhcHRpb25zLmxlbmd0aCkge1xyXG4gICAgY2FwdGlvbnMuZWFjaChmdW5jdGlvbigpIHtcclxuICAgICAgJGNsYW1wKHRoaXMsIHsgY2xhbXA6IDMgfSk7XHJcbiAgICB9KTtcclxuICAgIGNoZWNrQ2xhbXAoY2FwdGlvbnMpO1xyXG4gIH1cclxuICBmdW5jdGlvbiBjaGVja0NsYW1wKGl0ZW0pIHtcclxuICAgICQoZG9jdW1lbnQpLm9uKFwiY2xpY2tcIiwgXCIuc2gtYnRuXCIsIGZ1bmN0aW9uKGUpIHtcclxuICAgICAgaWYgKGl0ZW0uY2xvc2VzdChcIi5zaC1oaWRkZW5cIikpIHtcclxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGl0ZW0ubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICRjbGFtcCgkKGl0ZW0pW2ldLCB7IGNsYW1wOiBcIjEwMDBweFwiIH0pO1xyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgfSk7XHJcbiAgfVxyXG59XHJcblxyXG4vLyAkKGRvY3VtZW50KS5vbignY2xpY2snLCAnI2hlYWRlciAubWVudSBhJywgZnVuY3Rpb24oZSl7XHJcbi8vICAgICB2YXIgaHJlZiA9ICQodGhpcykuYXR0cignaHJlZicpO1xyXG4vLyAgICAgaWYgKGhyZWYuaW5kZXhPZignLyMnKSA9PT0gMCkge1xyXG4vLyAgICAgICAgIHZhciBpZCA9IGhyZWYuc3Vic3RyaW5nKDIpLFxyXG4vLyAgICAgICAgICAgICBibG9jayA9ICQoJyMnK2lkKTtcclxuXHJcbi8vICAgICAgICAgaWYgKGJsb2NrLmxlbmd0aCkge1xyXG4vLyAgICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XHJcbi8vICAgICAgICAgICAgICQoJ2h0bWwsIGJvZHknKS5hbmltYXRlKHtcclxuLy8gICAgICAgICAgICAgICAgICdzY3JvbGxUb3AnIDogYmxvY2sub2Zmc2V0KCkudG9wIC0gNDBcclxuLy8gICAgICAgICAgICAgfSk7XHJcbi8vICAgICAgICAgfVxyXG4vLyAgICAgfVxyXG4vLyB9KTtcclxuLy99XHJcblxyXG5mdW5jdGlvbiBzZWN0aW9uUGFnZSgpIHtcclxuICB2YXIgcHVicyA9ICQoXCIuc2VjdGlvbi1wdWJzIC5wdWItY29udGFpbmVyXCIpO1xyXG4gIGlmIChwdWJzLmxlbmd0aCkge1xyXG4gICAgcHVicy5lYWNoKGZ1bmN0aW9uKCkge1xyXG4gICAgICB2YXIgY2FwdGlvbiA9ICQoXCIuY2FwdGlvblwiLCAkKHRoaXMpKSxcclxuICAgICAgICBhbm5vdGF0aW9uID0gJChcIi5hbm5vdGF0aW9uXCIsICQodGhpcykpO1xyXG4gICAgICBjaGVja0NsYW1wKCQodGhpcykpO1xyXG4gICAgICBpZiAoY2FwdGlvbi5oZWlnaHQoKSA+IDkyIHx8IGFubm90YXRpb24uaGVpZ2h0KCkgPiA5Nikge1xyXG4gICAgICAgICQodGhpcykuYWRkQ2xhc3MoXCJzaC1oaWRkZW4gaGlkZWFibGVcIik7XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgJCh0aGlzKS5yZW1vdmVDbGFzcyhcInNoLWhpZGRlbiBoaWRlYWJsZVwiKTtcclxuICAgICAgfVxyXG4gICAgfSk7XHJcblxyXG4gICAgcHVicy5vbihcImNsaWNrXCIsIFwiLnNoLWJ0blwiLCBmdW5jdGlvbigpIHtcclxuICAgICAgY2hlY2tDbGFtcCgkKHRoaXMpLmNsb3Nlc3QoXCIuc2gtYmxvY2tcIikpO1xyXG4gICAgfSk7XHJcbiAgfVxyXG5cclxuICAvLyBmdW5jdGlvbiBjaGVja0NsYW1wKGl0ZW0pIHtcclxuICAvLyAgIC8vINGN0YLQvtGCINGB0LrRgNC40L/RgiDRgdGA0LDQsdCw0YLRi9Cy0LDQtdGCINGA0LDQvdGM0YjQtSDRh9C10Lwg0YHRgtCw0L3QtNCw0YDRgtC90YvQuSDQtNC70Y8gc2gtYmxvY2ssINC/0L7RjdGC0L7QvNGDINGC0YPRgiDQvdC+0LHQvtGA0L7RgiDQv9GA0L7QstC10YDQutCwXHJcbiAgLy8gICBpZiAoaXRlbS5pcyhcIi5zaC1oaWRkZW5cIikpIHtcclxuICAvLyAgICAgJGNsYW1wKCQoXCIuY2FwdGlvblwiLCBpdGVtKVswXSwgeyBjbGFtcDogXCIxMDAwcHhcIiB9KTtcclxuICAvLyAgICAgJGNsYW1wKCQoXCIuYW5ub3RhdGlvblwiLCBpdGVtKVswXSwgeyBjbGFtcDogXCIxMDAwcHhcIiB9KTtcclxuICAvLyAgIH0gZWxzZSB7XHJcbiAgLy8gICAgICRjbGFtcCgkKFwiLmNhcHRpb25cIiwgaXRlbSlbMF0sIHsgY2xhbXA6IDMgfSk7XHJcbiAgLy8gICAgICRjbGFtcCgkKFwiLmFubm90YXRpb25cIiwgaXRlbSlbMF0sIHsgY2xhbXA6IDMgfSk7XHJcbiAgLy8gICB9XHJcbiAgLy8gfVxyXG59XHJcbiJdfQ==
